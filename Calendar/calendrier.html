<!DOCTYPE html>
<html lang="fr">

<head>
    <title>JS-Calendar</title>
    <meta charset="UTF-8">
    <style type="text/css">
        td {
            border: 1px solid black;
            padding: 1em;
            text-align: center;
        }
    </style>
</head>

<body>

    <h1>JS-Calendar</h1>
    <h2>Partie 0 : Générer un &lt;table&gt; pour le mois de janvier</h2>

    <script type="application/javascript">

        console.log("Début Partie 0");
        // let max_days=31, current_day=1;

        // document.write('<table>');
        // document.write('<tr>');

        // while(current_day <= max_days){
        //     document.write('<td>' + current_day + '</td>');
        //     ++current_day;
        // }

        // document.write('</tr>');
        // document.write('</table>');

        // console.log('current/max : ' + current_day + '/' + max_days);

        console.log("Fin");
    </script>



    <h2>Partie 1 : Générer un &lt;table&gt; sur plusieurs lignes</h2>
    <script type="application/javascript">
        console.log("Début Partie 1");
        let max_days = 31, current_day = 1;

        let max_col = 7, max_line = 5;
        let current_week = 1;
        let current_col = 1;
        document.write('<table>');

        while (current_week <= max_line) {
            document.write('<tr>');
                current_col = 1;
            while (current_col <= max_col) {
                document.write('<td>' + current_day + '</td>');
                ++current_day;
                ++current_col;
            }
            document.write('</tr>');

            ++current_week;
        }
        document.write('</table>');


        console.log("Fin");
    </script>



    <h2>Partie 2 : Générer le mois de janvier</h2>
    <script type="application/javascript">
        console.log("Début Partie 2");


        let current_day = 1;
        let max_col = 7, max_line = 5;
        let current_week = 1;
        let current_col = 1;
        let max_days_january = 29;

        document.write('<table>');

        while (current_week <= max_line) {
            document.write('<tr>');
            current_col = 1;
            while (current_col <= max_col) {
                if (current_day <= max_days_january) {
                    document.write('<td>' + current_day + '</td>');
                }
                ++current_day;
                ++current_col;
            }
            document.write('</tr>');

            ++current_week;
        }
        document.write('</table>');


        console.log("Fin");
    </script>



    <h2>Partie 3 : Isoler le code dans une fonction</h2>
    <script type="application/javascript">
        console.log("Début Partie 3");

        function print_table_month(max_days,current_month) {
            let current_day = 1;
            let max_col = 7, max_line = 5;
            let current_week = 1;
            let current_col = 1;

            document.write('<table>');

            while (current_week <= max_line) {
                document.write('<tr>');
                current_col = 1;
                while (current_col <= max_col) {
                    if (current_day <= max_days) {
                        document.write('<td>' + current_day + '</td>');
                    }
                    ++current_day;
                    ++current_col;
                }
                document.write('</tr>');

                ++current_week;
            }
            document.write('</table>');
        }

        print_table_month(29);

        // console.log("Fin");
    </script>



    <h2>Partie 4 : Générer les autres mois</h2>
    <script type="application/javascript">
        console.log("Début Partie 4");
        let months = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
        let names = ['Jan', 'Fev', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
        let i=0;
        while(i<months.length){
            document.write('<h1>' + names[i] + '</h1>');
            print_table_month(months[i],i);
            ++i;
        }

        console.log("Fin");
    </script>


    <h2>Partie 5 : Afficher le jour courant en rouge</h2>
    <script type="application/javascript">
        console.log("Début Partie 5");
        //Recupérer la date courante
        let today = new Date();
        let today_day = today.getDate();
        let today_month = today.getMonth();

        while(current_week<=max_line){
            document.write('<tr>');
            current_col=1;
            while(current_col<=max_col){
                if(current_day==today_day && current_month==today_month){
                    document.write('<td class="today">' + current_day + '</td>');
                }else{
                    document.write('<td>' + current_day + '</td>');
                }
                ++current_day;
                ++current_col;
            }
            document.write('</tr>');
            ++current_week;
        }
        console.log("Fin");

    </script>

</body>

</html>